# 🔧 Django Admin 관리자 가이드

업무관리시스템의 모든 데이터베이스 테이블을 Django Admin을 통해 조회하고 관리할 수 있습니다.

## 📋 목차

1. [Admin 접속 방법](#admin-접속-방법)
2. [관리 가능한 모델](#관리-가능한-모델)
3. [각 모델별 기능](#각-모델별-기능)
4. [고급 기능](#고급-기능)
5. [데이터 내보내기](#데이터-내보내기)
6. [보안 및 권한](#보안-및-권한)

---

## 🚀 Admin 접속 방법

### 1. 관리자 계정 생성 (최초 1회)
```bash
python manage.py createsuperuser
```

### 2. Admin 페이지 접속
```
http://127.0.0.1:8000/admin/
```

### 3. 로그인
- 생성한 관리자 계정으로 로그인
- 메인 대시보드에서 시스템 현황 확인

---

## 📊 관리 가능한 모델

### 👥 사용자 관리
- **User (사용자)**: Django 기본 사용자 모델
- **UserProfile (사용자 프로필)**: 확장 프로필 정보

### 📝 업무 관리
- **Task (업무)**: 모든 업무 데이터
- **Category (카테고리)**: 업무 분류 카테고리
- **TaskComment (업무 댓글)**: 업무별 댓글
- **TaskFile (업무 파일)**: 업무 첨부파일

### 📅 워크로그 관리
- **Worklog (워크로그)**: 주간 업무 기록
- **WorklogFile (워크로그 파일)**: 워크로그 첨부파일

### 👥 팀 관리
- **Team (팀)**: 팀 정보
- **TeamMembership (팀 멤버십)**: 팀 소속 및 역할

### 📈 리포트 관리
- **WeeklyReport (주간 리포트)**: 주간 리포트
- **WeeklyReportComment (리포트 댓글)**: 리포트 댓글

### 🔔 알림 관리
- **Notification (알림)**: 시스템 알림

---

## 🎯 각 모델별 기능

### 📝 Task (업무) 관리

#### 목록 화면 기능
- **필터링**: 상태, 우선순위, 카테고리, 생성일, 마감일, 팀별
- **검색**: 제목, 설명, 작성자명으로 검색
- **정렬**: 생성일 기준 최신순
- **색상 표시**: 상태와 우선순위별 색상 구분

#### 상세 화면 기능
- **인라인 편집**: 댓글과 파일을 같은 화면에서 관리
- **필드 그룹화**: 논리적 섹션별로 필드 구성
- **읽기 전용 필드**: 생성일, 수정일 자동 관리

#### 대량 작업
- **상태 일괄 변경**: 여러 업무를 한 번에 상태 변경
  - 예정업무로 변경
  - 진행중 업무로 변경
  - 완료업무로 변경

#### 시각적 표시
```python
# 상태별 색상
- 예정업무: 노란색 (●)
- 진행중: 파란색 (●)
- 완료: 초록색 (●)
- 중단: 회색 (●)

# 우선순위별 색상
- 긴급: 빨간색 (●)
- 높음: 주황색 (●)
- 보통: 노란색 (●)
- 낮음: 초록색 (●)
```

### 📅 Worklog (워크로그) 관리

#### 목록 화면 기능
- **월별 주차 표시**: "7월 1주차" 형식으로 직관적 표시
- **내용 미리보기**: 워크로그 내용 요약 표시
- **첨부파일 수**: 파일 개수 표시
- **필터링**: 연도, 주차, 작성일, 작성자별

#### CSV 내보내기
- **선택된 워크로그를 CSV로 내보내기** 액션 제공
- Excel에서 바로 열 수 있는 UTF-8 BOM 포함
- 포함 필드: 연도, 주차, 월별주차, 작성자, 내용, 작성일

### 👥 Team (팀) 관리

#### 팀 정보 관리
- **멤버 수 표시**: 팀별 멤버 수 링크로 표시
- **팀장 수 표시**: 팀장 역할 멤버 수
- **팀 업무 수**: 해당 팀의 업무 개수

#### 팀 멤버십 관리
- **역할별 색상 구분**:
  - 관리자: 빨간색 (●)
  - 팀장: 주황색 (●)
  - 멤버: 초록색 (●)
- **대량 역할 변경**:
  - 팀장으로 승진
  - 일반 멤버로 변경

### 🔔 Notification (알림) 관리

#### 알림 유형별 색상
- **업무 마감일 임박**: 노란색 (●)
- **업무 마감일 초과**: 빨간색 (●)
- **업무 할당**: 파란색 (●)
- **댓글 추가**: 초록색 (●)
- **워크로그 작성 알림**: 보라색 (●)

#### 대량 작업
- **읽음 표시**: 선택된 알림을 읽음으로 표시
- **읽지 않음 표시**: 선택된 알림을 읽지 않음으로 표시
- **읽은 알림 삭제**: 읽은 알림만 선별 삭제

#### 권한 제한
- 일반 사용자는 자신의 알림만 볼 수 있음
- 관리자는 모든 사용자의 알림 관리 가능

---

## 🔧 고급 기능

### 검색 기능
각 모델별로 다양한 필드에서 검색 가능:

```python
# Task 검색 필드
- 제목 (title)
- 설명 (description)  
- 작성자명 (author__username)

# Worklog 검색 필드
- 이번 주 내용 (this_week_content)
- 다음 주 내용 (next_week_content)
- 작성자명 (author__username)

# Notification 검색 필드
- 제목 (title)
- 메시지 (message)
- 사용자명 (user__username)
- 관련 업무 제목 (task__title)
```

### 필터링 옵션
각 모델별 다양한 필터 제공:

```python
# Task 필터
- 상태 (status)
- 우선순위 (priority)
- 카테고리 (category)
- 생성일 (created_at)
- 마감일 (due_date)
- 팀 (team)

# Worklog 필터
- 연도 (year)
- 주차 (week_number)
- 생성일 (created_at)
- 작성자 (author)
```

### 인라인 편집
관련 모델을 같은 화면에서 편집:

```python
# Task 상세 화면에서
- TaskComment (댓글) 인라인 편집
- TaskFile (파일) 인라인 편집

# Team 상세 화면에서
- TeamMembership (멤버십) 인라인 편집

# WeeklyReport 상세 화면에서
- WeeklyReportComment (댓글) 인라인 편집
```

---

## 📤 데이터 내보내기

### CSV 내보내기 기능
다음 모델에서 CSV 내보내기 지원:

#### Worklog CSV 내보내기
```csv
연도,주차,월별주차,작성자,이번주내용,다음주계획,작성일
2024,28,7월 1주차,admin,이번 주 업무 내용...,다음 주 계획...,2024-07-08 10:30:00
```

#### WeeklyReport CSV 내보내기
```csv
연도,주차,월별주차,제목,작성자,댓글수,작성일,수정일
2024,28,7월 1주차,주간 리포트,admin,3,2024-07-08 10:30:00,2024-07-08 15:45:00
```

### 내보내기 방법
1. 해당 모델의 목록 화면으로 이동
2. 내보낼 항목들을 체크박스로 선택
3. 액션 드롭다운에서 "CSV로 내보내기" 선택
4. "실행" 버튼 클릭
5. 자동으로 CSV 파일 다운로드

---

## 🔒 보안 및 권한

### 관리자 권한 레벨

#### 슈퍼유저 (Superuser)
- 모든 모델에 대한 완전한 CRUD 권한
- 사용자 계정 생성/삭제 권한
- 시스템 설정 변경 권한

#### 스태프 (Staff)
- 지정된 모델에 대한 제한적 권한
- 자신이 생성한 데이터만 수정 가능
- 삭제 권한 제한

#### 일반 사용자
- Admin 페이지 접근 불가
- 웹 인터페이스를 통해서만 데이터 접근

### 데이터 보안

#### 개인정보 보호
- 사용자 비밀번호는 해시화되어 저장
- 개인정보 필드는 필요시에만 표시
- 로그인 기록 및 접근 로그 관리

#### 데이터 무결성
- 외래키 제약조건으로 데이터 일관성 보장
- 필수 필드 검증
- 중복 데이터 방지 (unique_together 제약)

---

## 💡 사용 팁

### 효율적인 데이터 관리

#### 1. 필터 활용
```python
# 이번 주 생성된 업무만 보기
Task 목록 → 생성일 필터 → "오늘", "지난 7일" 선택

# 특정 사용자의 워크로그만 보기
Worklog 목록 → 작성자 필터 → 사용자 선택

# 읽지 않은 알림만 보기
Notification 목록 → 읽음 여부 필터 → "아니오" 선택
```

#### 2. 검색 활용
```python
# 특정 키워드가 포함된 업무 찾기
Task 목록 → 검색창에 "로그인" 입력

# 특정 사용자의 데이터 찾기
모든 목록 → 검색창에 사용자명 입력
```

#### 3. 대량 작업 활용
```python
# 완료된 업무들을 한 번에 아카이브
Task 목록 → 완료된 업무들 선택 → "완료업무로 변경" 액션

# 오래된 알림들을 한 번에 정리
Notification 목록 → 읽은 알림들 선택 → "읽은 알림만 삭제" 액션
```

### 데이터 분석

#### 통계 정보 활용
- Admin 메인 페이지의 통계 카드로 전체 현황 파악
- 각 모델의 필터를 활용한 세부 분석
- CSV 내보내기로 외부 도구에서 상세 분석

#### 트렌드 분석
```python
# 월별 업무 생성 추이
Task 목록 → 생성일 필터 → 월별로 확인

# 팀별 업무 분배 현황
Task 목록 → 팀 필터 → 각 팀별 업무 수 확인

# 사용자별 워크로그 작성 빈도
Worklog 목록 → 작성자 필터 → 사용자별 확인
```

---

## 🆘 문제 해결

### 자주 발생하는 문제

#### 1. Admin 페이지 접근 불가
```bash
# 관리자 계정 재생성
python manage.py createsuperuser

# 서버 재시작
python manage.py runserver
```

#### 2. 데이터가 표시되지 않음
- 해당 앱의 admin.py 파일 확인
- 모델이 올바르게 등록되었는지 확인
- 마이그레이션 상태 확인

#### 3. 권한 오류
- 사용자의 is_staff, is_superuser 플래그 확인
- 필요한 권한이 할당되었는지 확인

#### 4. 성능 문제
- 대량 데이터 조회 시 페이지네이션 활용
- 필터를 사용하여 데이터 범위 제한
- 인덱스가 필요한 필드 확인

---

## 📚 추가 자료

### Django Admin 공식 문서
- [Django Admin 사이트](https://docs.djangoproject.com/en/stable/ref/contrib/admin/)
- [ModelAdmin 옵션](https://docs.djangoproject.com/en/stable/ref/contrib/admin/#modeladmin-options)

### 커스터마이징 가이드
- [Admin 템플릿 커스터마이징](https://docs.djangoproject.com/en/stable/ref/contrib/admin/#overriding-admin-templates)
- [Admin 액션 추가](https://docs.djangoproject.com/en/stable/ref/contrib/admin/actions/)

---

**Django Admin을 통해 업무관리시스템의 모든 데이터를 효율적으로 관리하세요!** 🚀
