<div class="bg-white rounded-md border border-slate-200 shadow-sm overflow-hidden mb-6">
    <div class="px-6 py-4 bg-slate-50/50 border-b border-slate-200 flex justify-between items-center">
        <h2 class="text-sm font-bold text-slate-900 flex items-center gap-2">
            <span class="material-symbols-outlined text-slate-400 text-[20px]">album</span>
            연관 소프트웨어
        </h2>
        {% if title_action_url %}
        <a href="{{ title_action_url }}" class="text-primary hover:underline text-xs font-bold">{{ title_action_text|default:"자산 등록" }}</a>
        {% endif %}
    </div>
    <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
            <thead class="bg-slate-50/50 text-slate-500 text-xs uppercase font-bold tracking-wider border-b border-slate-200">
                <tr>
                    <th class="px-6 py-3">소프트웨어 정보</th>
                    <th class="px-6 py-3 text-center">제조사</th>
                    <th class="px-6 py-3 text-center">라이선스</th>
                    <th class="px-6 py-3 text-center">상태</th>
                    <th class="px-6 py-3 text-center">구매일</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100 text-sm text-slate-700">
                {% for software in softwares %}
                <tr class="hover:bg-slate-50/50 transition-colors group cursor-pointer" onclick="window.location='{% url 'assets:software_detail' software.pk %}'">
                    <td class="px-6 py-3">
                        <div class="flex flex-col">
                            <span class="font-bold text-slate-900 group-hover:text-primary transition-colors underline decoration-slate-200 underline-offset-4">{{ software.name }}</span>
                            <span class="text-[11px] text-slate-400">Ver. {{ software.version|default:"-" }}</span>
                        </div>
                    </td>
                    <td class="px-6 py-3 text-center font-medium">{{ software.manufacturer }}</td>
                    <td class="px-6 py-3 text-center">
                        <span class="px-2 py-0.5 rounded-md bg-slate-100 text-[10px] font-bold text-slate-500 border border-slate-200">{{ software.get_license_type_display }}</span>
                    </td>
                    <td class="px-6 py-3 text-center">
                        {% if software.status == 'OPER' %}
                        <span class="px-2 py-0.5 rounded-full text-[10px] font-bold bg-green-50 text-green-600 border border-green-100 uppercase tracking-wider">운영중</span>
                        {% elif software.status == 'EXP' %}
                        <span class="px-2 py-0.5 rounded-full text-[10px] font-bold bg-red-50 text-red-600 border border-red-100 uppercase tracking-wider">만료</span>
                        {% else %}
                        <span class="px-2 py-0.5 rounded-full text-[10px] font-bold bg-slate-100 text-slate-500 border border-slate-200 uppercase tracking-wider">{{ software.get_status_display }}</span>
                        {% endif %}
                    </td>
                    <td class="px-6 py-3 text-center text-slate-500 font-medium text-xs">{{ software.purchase_date|date:"Y-m-d"|default:"-" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="px-6 py-12 text-center text-slate-400 font-medium">
                        <div class="flex flex-col items-center gap-2">
                            <span class="material-symbols-outlined text-3xl text-slate-300">save</span>
                            <p>연관된 소프트웨어 자산이 없습니다.</p>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
