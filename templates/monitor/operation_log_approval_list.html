{% extends 'basic.html' %}

{% block page_name %}운영일지 승인{% endblock %}

{% block content %}
<div class="flex flex-col gap-8 max-w-4xl mx-auto">
    <div class="flex flex-col gap-1">
        <h1 class="text-3xl font-extrabold tracking-tight text-slate-900">운영일지 승인 대기</h1>
        <p class="text-slate-500 font-medium text-sm">검토 완료되어 최종 승인을 기다리는 운영일지 목록입니다.</p>
    </div>

    <div class="bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden text-slate-900">
        <div class="overflow-x-auto">
            <table class="w-full text-center border-collapse">
                <thead class="bg-slate-50 text-slate-500 text-[10px] uppercase font-bold tracking-wider border-b border-slate-200">
                    <tr>
                        <th class="px-8 py-4 text-left">점검 일자</th>
                        <th class="px-8 py-4 text-left">담당자</th>
                        <th class="px-8 py-4">액션</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-slate-50 text-sm">
                    {% for log in logs %}
                    <tr class="hover:bg-slate-50/50 transition-colors">
                        <td class="px-8 py-4 text-left whitespace-nowrap">
                            <a href="{% url 'operation_log_detail' log.id %}" class="font-bold text-slate-900 hover:text-primary transition-colors">
                                {{ log.date }}
                            </a>
                        </td>
                        <td class="px-8 py-4 text-left whitespace-nowrap">
                            <div class="flex items-center gap-2">
                                <div class="w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold text-[10px] border border-slate-200">
                                    {{ log.duty_user.username|slice:":1"|upper }}
                                </div>
                                <span class="font-bold text-slate-700 text-xs">{{ log.duty_user.profile.display_name }}</span>
                            </div>
                        </td>
                        <td class="px-8 py-4 whitespace-nowrap">
                            <a href="{% url 'operation_log_detail' log.id %}" 
                               class="inline-flex items-center gap-2 px-6 py-2 rounded-full bg-primary text-white font-bold hover:bg-primary/90 transition-all text-xs shadow-lg shadow-primary/10">
                                <span class="material-symbols-outlined text-[16px]">verified</span>
                                검토 및 승인
                            </a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3" class="px-8 py-20 text-center">
                            <div class="flex flex-col items-center gap-3">
                                <span class="material-symbols-outlined text-slate-200 text-6xl">check_circle</span>
                                <p class="text-slate-400 font-bold">승인 대기 중인 일지가 없습니다.</p>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
